### 비밀번호 인코딩2

- web.xml

```xml
  <servlet>
      <servlet-name>appServlet</servlet-name>
      <servlet-class>org.springframework.web.servlet.DispatcherServlet
      </servlet-class>
      <init-param>
         <param-name>contextConfigLocation</param-name>
         <param-value>
         			/WEB-INF/spring/appServlet/servlet-context.xml
    		 		 /WEB-INF/spring/appServlet/security-context.xml
         </param-value>
      </init-param>
      <load-on-startup>1</load-on-startup>
   </servlet>
```
security-context.xml을 읽을 수 있게 경로를 설정해준다

&nbsp;



------


__Membercontroller__

```java
	@Autowired
	private  BCryptPasswordEncoder pwEncoder;
```
의존성을 주입하기 위해 membercontroller에 어노테이션을 설정한다.


- 회원가입 메소드

```java
@RequestMapping(value = "/client-register", method = RequestMethod.POST)
	public String joinPOST(MemberVO member) throws Exception {

	
		  String rawPw =""; //인코딩 전 비밀번호 
		  String encodePw =""; //인코딩 후 비밀번호
		  
		  
		  rawPw = member.getPw(); //비밀번호 데이터를 얻음 
		  encodePw = pwEncoder.encode(rawPw);
		  //비밀번호를 인코딩 
		  member.setPw(encodePw); // 인코딩한 member객체를 다시 저장한다
		 
		service.memberjoin(member);

		return "redirect:/client-login";
	}


```








- 로그인






MemberMapper.xml의 mapper을 바꿔준다

 - MemberMapper.xml

 ```xml
<!-- 로그인하기 -->
	<select id="memberLogin" resultType="com.supermm.model.MemberVO">
		select id, pw, name, mpoint, adminchk, money from member where id =
		#{id} 

	</select>

 ```


- 비밀번호 찾기
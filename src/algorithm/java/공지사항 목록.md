### 공지사항 목록



순서 
===

1.Criteria 작성

2.Mapper처리/테스트 

2.service처리/테스트

3.controller 처리/테스트

4.view 처리


-----------------------


&nbsp;


1.criteria 작성
---

```java

public class Criteria { 
	private int pageNum; //현재페이지
	private int amount; //한페이지당 보여질 게시물 개수	
	

	////////search ///////////
	private String searchType;  //검색타입
	private String[] searchTypeArr; //검색타입 배열
	
	private String keyWord; //검색키워드
	
	//기본생성자 : 기본세팅(pageNum=1, amount=5)
	public Criteria() {
		this(1, 5);
	}
	
	//생성자 : 원하는 pageNum, amount
	public Criteria(int pageNum, int amount) {
		this.pageNum = pageNum;
		this.amount = amount;
	}
	
	public void setSearchType(String searchType) {
		this.searchType = searchType;
		this.searchTypeArr = searchType.split("");
	}
}
```



&nbsp;



2.NoticeMapper.java

```java
	 //게시판 목록이동
	public List<NoticeVO> Noticelist();
```
```java
//게시판 페이징한 목록 
public List<NoticeVO> getNoticePaging(Criteria cri);
```


__* SELECT 결과 하나의 행에 대한 정보만 얻을 경우 VO를 클래스타입으로 받아도 되나 리스트 같이 두개의 행으로 이루 어져 있을 경우 List타입으로 반환 받는다*__


&nbsp;


&nbsp;

목록 페이지 
```xml
<select id="Noticelist" resultType="com.supermm.model.NoticeVO">
		select * from anotice order by nno
	</select>

```

&nbsp;


&nbsp;



페이징 처리한 목록 페이지

```xml

<select id="getNoticePaging"
		resultType="com.supermm.model.NoticeVO">	
		  <![CDATA[
        
        select nno, ntitle, nwriter_id, ncontent, nregdate, updatedate from(
        
                select  rownum  as rn, nno, ntitle, nwriter_id, ncontent, nregdate, updatedate
                  
                from anotice where rownum <= #{pageNum} * #{amount} 
    ]]>            
                <if test="keyword != null">
                    and ntitle like '%'||#{keyword}||'%' 
                </if>
    
    <![CDATA[
                    
                )
                    
        where rn > (#{pageNum} -1) * #{amount}
    
    ]]>
    
 </select>

```



CDATA 구문 : 쿼리문에 문자열 비교 연산자나 부등호를 처리해야 할 경우가 발생 할때 
CDATA 구문으로 감싸면 인식 가능하다
(EX) > 같은 경우 태그로 인식하는데 CDATA 구문을 사용할 경우 부등호로 인식한다)
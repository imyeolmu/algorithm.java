### 빌드 및 배포02

&nbsp;


3.배포란?
---
작성한 코드를 빌드하고, 빌드가 완성된 실행 가능한 파일을 사용자가 접근할 수 있는 환경에 배치하면 배포가 완료된다


빌드를 하고 생성된 jar 또는 war 파일을 WAS에 올리는 것이 배포

git(소스 형상 관리)에 올려두고 코드가 제대로 동작하는지 테스트코드를 작성하고 이를 수행하는 검증하는 작업까지 하는것이다 


&nbsp;


4.CI/CD
---
CI(Continuous Integration):지속적 통합

개발자를 위한 자동화 프로세스


기존에는  다 작성하고 코드를 고쳤다

cI는 지속적인 통합으로 모든 개발이 끝난 이후에 코드 품질을 관리하는 고전적 방식의 단점을 해소하기 위해 나타난 개념

```
1.코드를 통합한다

2.통합한 코드가 제대로 작동되는지 테스트한다
                                        -----> 자동화 도구 사용(Jenkins/Travis)
3.제대로 빌드가 되는지 테스트 한다

4. 결과를 정리하고 버그가 존재한다면 적어둔다


```

CD(Continuous Deploy):지속적 배포

소프트웨어가 항상 신뢰 가능한 수준에서 배포될 수 있도록 관리하자는 개념 (빌드잘되고 테스트 잘되고)

보통 CI가 선행이 되기 때문에 CI와 CD를 같이 붙어서 쓴다



즉 CI/CD: 지속적으로 통합하면서 테스트와 빌드를 진행학 이를 통과한 코드에 대해 신뢰할 수 있고 바로 배포하는것

&nbsp;


5.무중단 배포
---

기존에 동작하고 있는 서버(배포가 완료)가 존재

그상태에서 새롭게 업데이트한 코드를 배포 한다면?

8080포트에 서버를 띄운다 

새롭게 배포할 내용이 있다면 포트 충돌을 막기 위해서 서버를 다운 시킨다

8080포트에 새롭게 배포할 서버를 띄운다 

다운 타임(유저에게 서비스가 불가능한 시간)이 발생한다


필요 조건: 두대이상의 서버를 서비스 해야한다

다운타임이 발생ㅎ하지 않을면 실제 서비스 중인 서버와 새롭게 배포한 서버가 동시에 존재해야한다

비용을 줄이려면 배포할 때만 새롭게 서버를 띄우고 배포가 완료된후에 기존 서버는 죽이면 된다 


종류 3개

Rolling 배포

```
서버1을 로드 밸런서에 뺀다

서버1에 배포한다

서버1을 다시 로드 밸런서에 넣는다

서버2를 로드 밸런서에서 뺀다

서버2에 배포한다

서버2를 로드밸러서에 넣는다

```


Canary배포


Blue/Green배포
